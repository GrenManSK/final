<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>final: final.downloadmusic Namespace Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">final<span id="projectnumber">&#160;1.0.8</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d9/dc0/namespacefinal_1_1downloadmusic.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">final.downloadmusic Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a72e0fc2044c9b0537f44f52f090602d5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dc0/namespacefinal_1_1downloadmusic.html#a72e0fc2044c9b0537f44f52f090602d5">DownloadMusic</a> (music_name, directory)</td></tr>
<tr class="separator:a72e0fc2044c9b0537f44f52f090602d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a72e0fc2044c9b0537f44f52f090602d5" name="a72e0fc2044c9b0537f44f52f090602d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72e0fc2044c9b0537f44f52f090602d5">&#9670;&#160;</a></span>DownloadMusic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def final.downloadmusic.DownloadMusic </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>music_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>directory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">The DownloadMusic function takes in a string of the name of the song you want to download.
It then searches for that song on YouTube and downloads it as an mp3 file into your assets folder.
The function returns a string containing the name of the downloaded file.

:param music_name: Search for the music in youtube
:return: The name of the downloaded music
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d5/dc3/downloadmusic_8py_source.html#l00012">12</a> of file <a class="el" href="../../d5/dc3/downloadmusic_8py_source.html">downloadmusic.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   12</span><span class="keyword">def </span>DownloadMusic(music_name, directory):</div>
<div class="line"><span class="lineno">   13</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   14</span><span class="stringliteral">    The DownloadMusic function takes </span><span class="keywordflow">in</span> a string of the name of the song you want to download.</div>
<div class="line"><span class="lineno">   15</span>    It then searches <span class="keywordflow">for</span> that song on YouTube <span class="keywordflow">and</span> downloads it <span class="keyword">as</span> an mp3 file into your assets folder.</div>
<div class="line"><span class="lineno">   16</span>    The function returns a string containing the name of the downloaded file.</div>
<div class="line"><span class="lineno">   17</span> </div>
<div class="line"><span class="lineno">   18</span>    :param music_name: Search <span class="keywordflow">for</span> the music <span class="keywordflow">in</span> youtube</div>
<div class="line"><span class="lineno">   19</span>    :<span class="keywordflow">return</span>: The name of the downloaded music</div>
<div class="line"><span class="lineno">   20</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   21</span><span class="stringliteral">    query_string = urllib.parse.urlencode({&quot;search_query&quot;</span>: music_name})</div>
<div class="line"><span class="lineno">   22</span>    formatUrl = urllib.request.urlopen(</div>
<div class="line"><span class="lineno">   23</span>        <span class="stringliteral">&quot;https://www.youtube.com/results?&quot;</span> + query_string)</div>
<div class="line"><span class="lineno">   24</span>    logging.debug(</div>
<div class="line"><span class="lineno">   25</span>        <span class="stringliteral">&quot;Searched in: https://www.youtube.com/results?&quot;</span> + query_string)</div>
<div class="line"><span class="lineno">   26</span>    search_results = re.findall(</div>
<div class="line"><span class="lineno">   27</span>        <span class="stringliteral">r&quot;watch\?v=(\S{11})&quot;</span>, formatUrl.read().decode())</div>
<div class="line"><span class="lineno">   28</span>    clip = requests.get(<span class="stringliteral">&quot;https://www.youtube.com/watch?v=&quot;</span> +</div>
<div class="line"><span class="lineno">   29</span>                        <span class="stringliteral">&quot;{}&quot;</span>.format(search_results[0]))</div>
<div class="line"><span class="lineno">   30</span>    clip2 = <span class="stringliteral">&quot;https://www.youtube.com/watch?v=&quot;</span> + <span class="stringliteral">&quot;{}&quot;</span>.format(search_results[0])</div>
<div class="line"><span class="lineno">   31</span>    logging.debug(<span class="stringliteral">&quot;Found: https://www.youtube.com/watch?v=&quot;</span> +</div>
<div class="line"><span class="lineno">   32</span>                  <span class="stringliteral">&quot;{}&quot;</span>.format(search_results[0]))</div>
<div class="line"><span class="lineno">   33</span>    inspect = BeautifulSoup(clip.content, <span class="stringliteral">&quot;html.parser&quot;</span>)</div>
<div class="line"><span class="lineno">   34</span>    yt_title = inspect.find_all(<span class="stringliteral">&quot;meta&quot;</span>, property=<span class="stringliteral">&quot;og:title&quot;</span>)</div>
<div class="line"><span class="lineno">   35</span>    <span class="keywordflow">for</span> concatMusic1 <span class="keywordflow">in</span> yt_title:</div>
<div class="line"><span class="lineno">   36</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">   37</span>    print(<span class="stringliteral">&#39;\nStarting download&#39;</span>)</div>
<div class="line"><span class="lineno">   38</span>    print(clip2)</div>
<div class="line"><span class="lineno">   39</span>    print(concatMusic1[<span class="stringliteral">&#39;content&#39;</span>])</div>
<div class="line"><span class="lineno">   40</span> </div>
<div class="line"><span class="lineno">   41</span>    <span class="keyword">def </span>run(clip2):</div>
<div class="line"><span class="lineno">   42</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   43</span><span class="stringliteral">        The run function takes a YouTube link </span><span class="keyword">as</span> an argument <span class="keywordflow">and</span> downloads the highest resolution video file.</div>
<div class="line"><span class="lineno">   44</span>        It then extracts the audio <span class="keyword">from</span> that video file, saves it to a new mp3 file, <span class="keywordflow">and</span> deletes the original video.</div>
<div class="line"><span class="lineno">   45</span>        The function returns the name of this new mp3 file.</div>
<div class="line"><span class="lineno">   46</span> </div>
<div class="line"><span class="lineno">   47</span>        :param clip2: Pass the youtube link to the run function</div>
<div class="line"><span class="lineno">   48</span>        :<span class="keywordflow">return</span>: The name of the song</div>
<div class="line"><span class="lineno">   49</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   50</span><span class="stringliteral">        out_file = YouTube(</span></div>
<div class="line"><span class="lineno">   51</span><span class="stringliteral">            str(clip2)).streams.get_highest_resolution().download()</span></div>
<div class="line"><span class="lineno">   52</span><span class="stringliteral">        base, ext = os.path.splitext(out_file)</span></div>
<div class="line"><span class="lineno">   53</span><span class="stringliteral">        base = os.path.basename(base)</span></div>
<div class="line"><span class="lineno">   54</span><span class="stringliteral">        base.replace(&quot;[&quot;</span>, <span class="stringliteral">&quot;(&quot;</span>)</div>
<div class="line"><span class="lineno">   55</span>        base.replace(<span class="stringliteral">&quot;]&quot;</span>, <span class="stringliteral">&quot;)&quot;</span>)</div>
<div class="line"><span class="lineno">   56</span>        base.replace(<span class="stringliteral">&quot;&#39;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">   57</span>        base.replace(<span class="stringliteral">&quot;\&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">   58</span>        new_file = base + <span class="stringliteral">&#39;.mp3&#39;</span></div>
<div class="line"><span class="lineno">   59</span>        print(os.path.join(out_file))</div>
<div class="line"><span class="lineno">   60</span>        print(os.path.join(directory + <span class="stringliteral">&#39;\\&#39;</span> + new_file))</div>
<div class="line"><span class="lineno">   61</span>        video = VideoFileClip(os.path.join(out_file))</div>
<div class="line"><span class="lineno">   62</span>        video.audio.write_audiofile(os.path.join(directory + <span class="stringliteral">&#39;\\&#39;</span> + new_file))</div>
<div class="line"><span class="lineno">   63</span>        video.close()</div>
<div class="line"><span class="lineno">   64</span>        os.remove(out_file)</div>
<div class="line"><span class="lineno">   65</span>        print(<span class="stringliteral">&#39;Done\n&#39;</span>)</div>
<div class="line"><span class="lineno">   66</span>        <span class="keywordflow">return</span> base</div>
<div class="line"><span class="lineno">   67</span>    a = run(clip2)</div>
<div class="line"><span class="lineno">   68</span>    <span class="keywordflow">return</span> a</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span> </div>
</div><!-- fragment --><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d9/dc0/namespacefinal_1_1downloadmusic_a72e0fc2044c9b0537f44f52f090602d5_cgraph.png" border="0" usemap="#ad9/dc0/namespacefinal_1_1downloadmusic_a72e0fc2044c9b0537f44f52f090602d5_cgraph" alt=""/></div>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d9/dc0/namespacefinal_1_1downloadmusic_a72e0fc2044c9b0537f44f52f090602d5_icgraph.png" border="0" usemap="#ad9/dc0/namespacefinal_1_1downloadmusic_a72e0fc2044c9b0537f44f52f090602d5_icgraph" alt=""/></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d1/d32/namespacefinal.html">final</a></li><li class="navelem"><a class="el" href="../../d9/dc0/namespacefinal_1_1downloadmusic.html">downloadmusic</a></li>
    <li class="footer">Generated on Tue Apr 25 2023 14:16:31 for final by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
